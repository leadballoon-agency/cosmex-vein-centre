<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmex Vein Clinic Cambridge - Expert Vein Assessment & Treatment</title>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="Cosmex Vein Clinic Cambridge - A Division of Multi-Award Winning Cosmex Clinic">
    <meta name="description" content="Cambridge's leading vein specialists. Get expert treatment for varicose veins, spider veins & thread veins. Same-week consultations from £50. Skip the 2-year NHS wait.">
    <meta name="keywords" content="varicose veins Cambridge, spider veins treatment, thread veins, vein clinic Cambridge, vein removal, RFA treatment, EVLA, foam sclerotherapy, duplex ultrasound scan, vein specialist, cosmex clinic">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="Cosmex Vein Clinic Cambridge">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cosmexveincentre.co.uk/">
    <meta property="og:title" content="Cosmex Vein Clinic Cambridge - A Division of Multi-Award Winning Cosmex Clinic">
    <meta property="og:description" content="Cambridge's leading vein specialists. Get expert treatment for varicose veins, spider veins & thread veins. Same-week consultations from £50.">
    <meta property="og:image" content="https://cosmexveincentre.co.uk/public/images/hero-1.jpg">
    <meta property="og:locale" content="en_GB">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://cosmexveincentre.co.uk/">
    <meta property="twitter:title" content="Cosmex Vein Clinic Cambridge - Expert Vein Treatment">
    <meta property="twitter:description" content="Cambridge's leading vein specialists. Same-week consultations from £50. Skip the NHS wait.">
    <meta property="twitter:image" content="https://cosmexveincentre.co.uk/public/images/hero-1.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://cosmexveincentre.co.uk/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/public/images/Cosmex-VeinClinic-Logo.png">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "MedicalClinic",
        "@id": "https://cosmexveincentre.co.uk/#clinic",
        "name": "Cosmex Vein Clinic Cambridge",
        "image": "https://cosmexveincentre.co.uk/public/images/Cosmex-VeinClinic-Logo.png",
        "logo": "https://cosmexveincentre.co.uk/public/images/Cosmex-VeinClinic-Logo.png",
        "telephone": "+441223752200",
        "priceRange": "£50-£250",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Cambridge",
            "addressRegion": "Cambridgeshire",
            "addressCountry": "GB"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 52.2053,
            "longitude": 0.1218
        },
        "url": "https://cosmexveincentre.co.uk",
        "sameAs": [
            "https://www.facebook.com/cosmexveinclinic",
            "https://www.instagram.com/cosmexveinclinic"
        ],
        "openingHoursSpecification": [
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
                "opens": "09:00",
                "closes": "17:00"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Saturday",
                "opens": "09:00",
                "closes": "13:00"
            }
        ],
        "medicalSpecialty": "Vascular Medicine",
        "availableService": [
            {
                "@type": "MedicalProcedure",
                "name": "Varicose Vein Treatment",
                "description": "RFA, EVLA, and Foam Sclerotherapy for varicose veins"
            },
            {
                "@type": "MedicalProcedure",
                "name": "Thread Vein Treatment",
                "description": "Spectra Vein Laser treatment for spider and thread veins"
            },
            {
                "@type": "MedicalTest",
                "name": "Duplex Ultrasound Scan",
                "description": "Comprehensive vein assessment and diagnosis"
            }
        ],
        "review": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "127"
        }
    }
    </script>
    
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://cosmexveincentre.co.uk"
            }
        ]
    }
    </script>
    
    <!-- FAQ Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "How much does vein treatment cost at Cosmex?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Initial consultations start from £50 for thread vein assessment. Full duplex ultrasound scans cost £250. Treatment prices vary based on the procedure required."
                }
            },
            {
                "@type": "Question",
                "name": "How long is the NHS wait for varicose vein treatment?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "NHS waiting times for varicose vein treatment in Cambridge currently exceed 2 years. At Cosmex, we offer same-week consultations with treatment available shortly after."
                }
            },
            {
                "@type": "Question",
                "name": "What is the Cosmex Guarantee?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "When you have a full duplex ultrasound assessment (£250), we provide a 12-month guarantee including free re-treatment if veins reappear and one follow-up scan at 1 month post-treatment."
                }
            }
        ]
    }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Cambridge Brand Colors */
            --cambridge-green: #6fc7b4;
            --cambridge-blue: #035172;
            --orange-cta: #f3a050;
            --orange-hover: #e89040;
            
            /* Text */
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-light: #94a3b8;
            
            /* Backgrounds */
            --bg-white: #ffffff;
            --bg-light: #f8fafc;
            --bg-assessment: #fafbfc;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            color: var(--text-primary);
            line-height: 1.6;
            background: var(--bg-white);
        }

        /* Glassmorphism Header - Only on Scroll */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-100%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }
        
        .header.scrolled {
            opacity: 1;
            transform: translateY(0);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 1px 0 rgba(3, 81, 114, 0.1);
            pointer-events: auto;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-img {
            height: 40px;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: var(--cambridge-blue);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--cambridge-green);
        }

        .nav-cta {
            background: var(--orange-cta);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-cta:hover {
            background: var(--orange-hover);
            transform: translateY(-1px);
        }

        /* Mobile CTA Button - Hidden on Desktop */
        .mobile-nav-cta {
            display: none;
            background: var(--orange-cta);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
        }

        .mobile-nav-cta:hover {
            background: var(--orange-hover);
            transform: translateY(-1px);
        }

        /* Elegant Hero with Assessment Focus */
        .hero {
            padding: 80px 2rem 60px;
            background: 
                linear-gradient(135deg, rgba(3, 81, 114, 0.85) 0%, rgba(111, 199, 180, 0.75) 100%),
                url('public/images/Cosmex-Veins-Hero-1.jpg') center/cover no-repeat;
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Trust Indicators */
        .trust-bar {
            display: flex;
            gap: 3rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .trust-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .trust-icon {
            width: 20px;
            height: 20px;
            fill: var(--cambridge-green);
        }

        /* Hero Content */
        .hero-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .hero-badge {
            display: inline-block;
            background: var(--cambridge-green);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        /* Assessment Tool - Primary Focus */
        .assessment-container {
            background: transparent;
            border-radius: 20px;
            padding: 0;
            max-width: 900px;
            margin: 0 auto;
            border: none;
            position: relative;
            z-index: 10;
            transition: all 0.3s ease;
        }
        
        .assessment-container.assessment-active {
            background: white;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(3, 81, 114, 0.12);
        }

        .assessment-container.focused {
            transform: scale(1.02);
        }

        /* Page dimming overlay */
        .page-dimmer {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(2px);
            z-index: 9;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .page-dimmer.active {
            opacity: 1;
            pointer-events: auto;
        }

        .assessment-header {
            text-align: center;
            margin-bottom: 2rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .assessment-active .assessment-header {
            opacity: 1;
        }

        .assessment-title {
            font-size: 1.75rem;
            color: var(--cambridge-blue);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .assessment-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Progress Bar */
        .progress-bar {
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            margin-bottom: 2.5rem;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .assessment-active .progress-bar {
            opacity: 1;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cambridge-green), var(--cambridge-blue));
            border-radius: 3px;
            transition: width 0.5s ease;
            width: 0%;
        }

        /* Navigation Controls */
        .assessment-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .assessment-active .assessment-nav {
            opacity: 1;
        }

        .back-button {
            display: none;
            background: var(--bg-light);
            border: 2px solid var(--cambridge-green);
            color: var(--cambridge-blue);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .back-button.visible {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .back-button:hover {
            background: var(--cambridge-green);
            color: white;
            transform: translateX(-4px);
        }

        .back-arrow {
            font-size: 1.2rem;
        }

        .question-counter {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Questions */
        .question {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .question.active {
            display: block;
        }

        /* Hide face questions by default */
        .face-question {
            display: none !important;
        }

        .face-question.active {
            display: block !important;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(111, 199, 180, 0.7);
            }
            70% {
                box-shadow: 0 0 0 20px rgba(111, 199, 180, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(111, 199, 180, 0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-title {
            font-size: 1.3rem;
            color: var(--cambridge-blue);
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .options {
            display: grid;
            gap: 1rem;
        }

        .option {
            background: var(--bg-light);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 1.25rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            border-color: var(--cambridge-green);
            background: white;
            transform: translateX(4px);
        }

        /* Checkbox option styles */
        .checkbox-option {
            position: relative;
            display: flex;
            align-items: flex-start;
            padding: 0 !important;
        }

        .checkbox-option input[type="checkbox"] {
            position: absolute;
            left: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--cambridge-green);
        }

        .checkbox-option label {
            padding: 1.25rem 1.25rem 1.25rem 3.5rem;
            cursor: pointer;
            width: 100%;
            display: block;
        }

        .checkbox-option input:checked + label {
            background: rgba(111, 199, 180, 0.1);
        }

        .continue-button {
            background: var(--cambridge-green);
            color: white;
            border: none;
            padding: 0.875rem 2rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }

        .continue-button:hover {
            background: var(--cambridge-blue);
            transform: translateY(-2px);
        }

        .option-title {
            font-weight: 600;
            color: var(--cambridge-blue);
            margin-bottom: 0.25rem;
        }

        .option-description {
            font-size: 0.9rem;
            color: var(--text-secondary) !important;
        }

        /* Assessment Results */
        .assessment-results {
            display: none;
            text-align: center;
        }

        .result-card {
            background: linear-gradient(135deg, rgba(111, 199, 180, 0.1), rgba(3, 81, 114, 0.05));
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .result-title {
            font-size: 1.5rem;
            color: var(--cambridge-blue);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .result-description {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        .result-cta {
            display: inline-block;
            background: var(--orange-cta);
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
        }

        .result-cta:hover {
            background: var(--orange-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(243, 160, 80, 0.3);
        }

        /* Why Choose Us Section */
        .why-choose-us {
            padding: 80px 2rem;
            background: white;
        }

        .why-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .why-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .why-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--cambridge-blue);
            margin-bottom: 1rem;
        }

        .nhs-challenge-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .nhs-challenge {
            background: linear-gradient(135deg, rgba(3, 81, 114, 0.05), rgba(111, 199, 180, 0.03));
            border-radius: 20px;
            padding: 3rem;
            border-left: 4px solid var(--cambridge-green);
        }

        .challenge-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .challenge-title {
            font-size: 1.5rem;
            color: var(--cambridge-blue);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .challenge-subtitle {
            font-size: 1.1rem;
            color: var(--cambridge-green);
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        .challenge-text {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .challenge-list {
            list-style: none;
            padding-left: 0;
            margin-bottom: 1.5rem;
        }

        .challenge-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .challenge-bullet {
            color: var(--cambridge-green);
            font-weight: bold;
            margin-right: 1rem;
            font-size: 1.2rem;
        }

        .warning-box {
            background: var(--orange-light);
            border: 2px solid var(--orange-cta);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .warning-text {
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .nhs-challenge-wrapper {
                grid-template-columns: 1fr;
            }
            
            .challenge-image {
                max-height: 300px;
            }
        }

        /* Treatment Options - Simplified */
        .treatments {
            padding: 60px 2rem;
            background: var(--bg-light);
        }

        .treatments-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--cambridge-blue);
            margin-bottom: 1rem;
        }

        .section-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Treatment Cards */
        .treatment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .treatment-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s;
        }

        .treatment-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(3, 81, 114, 0.15);
        }

        .treatment-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .treatment-content {
            padding: 1.5rem;
        }

        .treatment-title {
            font-size: 1.3rem;
            color: var(--cambridge-blue);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .treatment-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .treatment-features {
            list-style: none;
        }

        .treatment-feature {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-primary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .check-icon {
            color: var(--cambridge-green);
            font-weight: bold;
        }

        /* Video Section - Elegant */
        .video-section {
            padding: 60px 2rem;
            background: white;
        }

        .video-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .video-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .video-tab {
            padding: 0.75rem 1.5rem;
            background: var(--bg-light);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .video-tab.active {
            background: white;
            border-color: var(--cambridge-green);
            color: var(--cambridge-blue);
        }

        .video-content {
            display: none;
        }

        .video-content.active {
            display: block;
        }

        .video-wrapper {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }

        .video-player {
            width: 100%;
            display: block;
        }

        /* Experts Section */
        .experts {
            padding: 60px 2rem;
            background: var(--bg-light);
        }

        .experts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .expert-card {
            text-align: center;
        }

        .expert-image {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 1.5rem;
            border: 4px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .expert-name {
            font-size: 1.2rem;
            color: var(--cambridge-blue);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .expert-title {
            color: var(--cambridge-green);
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .expert-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Footer */
        .footer {
            background: var(--cambridge-blue);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-cta-section {
            padding-bottom: 3rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 3rem;
        }

        .footer-cta-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: white;
        }

        .footer-cta-subtitle {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
        }

        .footer-cta-buttons {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .footer-cta-option {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            max-width: 300px;
            text-align: center;
        }

        .footer-cta-badge {
            display: inline-block;
            background: var(--cambridge-green);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .footer-cta-price {
            font-size: 1.75rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.5rem;
        }

        .footer-cta-desc {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 1rem;
        }

        .footer-cta-btn {
            display: inline-block;
            background: var(--orange-cta);
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .footer-cta-btn:hover {
            background: var(--orange-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(243, 160, 80, 0.3);
        }

        .footer-logo {
            height: 60px;
            margin-bottom: 2rem;
            filter: brightness(0) invert(1);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-link {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-link:hover {
            color: var(--cambridge-green);
        }

        .footer-copyright {
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
        }

        /* Booking Modal */
        .booking-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .booking-modal.active {
            display: flex;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
        }

        .modal-content {
            position: relative;
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: var(--bg-light);
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: var(--cambridge-green);
            color: white;
            transform: rotate(90deg);
        }

        .modal-title {
            padding: 2rem 2rem 0.5rem;
            color: var(--cambridge-blue);
            font-size: 1.75rem;
            text-align: center;
            font-weight: 600;
        }

        .modal-subtitle {
            text-align: center;
            color: var(--cambridge-green);
            font-size: 1.1rem;
            font-weight: 500;
            padding: 0 2rem 1rem;
            margin: 0;
        }

        .iframe-container {
            padding: 0 2rem 2rem;
        }

        /* Responsive - Mobile First Improvements */
        @media (max-width: 768px) {
            /* Hero Section Mobile Optimization */
            .hero {
                padding: 70px 1rem 2rem;
                min-height: 100vh; /* Keep full viewport height */
                background-attachment: scroll; /* Better mobile performance */
                display: flex;
                align-items: center;
            }

            .hero-container {
                max-width: 100%;
                padding: 0;
            }

            /* Trust Bar - 2x2 Grid on Mobile */
            .trust-bar {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0.75rem;
                margin-bottom: 1.5rem;
            }

            .trust-item {
                font-size: 0.8rem;
                padding: 0.5rem;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 8px;
                backdrop-filter: blur(10px);
            }

            .trust-icon {
                width: 16px;
                height: 16px;
                margin-right: 0.25rem;
            }

            /* Hero Content - Better Mobile Spacing */
            .hero-content {
                margin-bottom: 2rem;
                text-align: center;
            }

            .hero-badge {
                font-size: 0.75rem;
                padding: 0.4rem 0.8rem;
                margin-bottom: 1rem;
            }

            h1 {
                font-size: 1.75rem;
                line-height: 1.2;
                margin-bottom: 1rem;
            }

            .hero-subtitle {
                font-size: 0.95rem;
                line-height: 1.5;
                padding: 0 0.5rem;
            }

            /* Assessment Container - Compact Mobile Design */
            .assessment-container {
                background: transparent;
                border-radius: 0;
                padding: 0;
                margin: 1rem 0;
                box-shadow: none;
            }

            .assessment-container.assessment-active {
                padding: 1rem;
                background: rgba(255, 255, 255, 0.95);
                box-shadow: 0 10px 30px rgba(3, 81, 114, 0.15);
                border-radius: 16px;
            }

            .assessment-header {
                display: none; /* Hide header on mobile for welcome state */
            }

            .assessment-container.assessment-active .assessment-header {
                display: block;
                margin-bottom: 1rem;
            }

            .assessment-title {
                font-size: 1.1rem;
                margin-bottom: 0.25rem;
            }

            .assessment-subtitle {
                font-size: 0.8rem;
                line-height: 1.2;
            }

            /* Welcome Card - Simplified for Mobile */
            .assessment-welcome {
                padding: 0 !important;
            }

            .assessment-welcome > div {
                background: rgba(255, 255, 255, 0.95) !important;
                backdrop-filter: blur(10px) !important;
                -webkit-backdrop-filter: blur(10px) !important;
                padding: 1.25rem !important;
                max-width: 100% !important;
                margin: 0 !important;
                border-radius: 12px !important;
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12) !important;
            }

            .assessment-welcome h3 {
                font-size: 1.1rem !important;
                margin-bottom: 0.4rem !important;
                color: var(--cambridge-blue) !important;
            }

            .assessment-welcome p {
                font-size: 0.85rem !important;
                margin-bottom: 0.75rem !important;
                color: var(--text-secondary) !important;
            }

            .assessment-welcome button {
                padding: 0.65rem 1.75rem !important;
                font-size: 0.9rem !important;
                width: 100% !important;
            }

            /* Questions - Mobile Friendly */
            .question-title {
                font-size: 1.1rem;
                margin-bottom: 1rem;
            }

            /* Section titles on mobile */
            .section-title, .why-title {
                font-size: 1.5rem !important;
                line-height: 1.2;
            }

            .options {
                gap: 0.75rem;
            }

            .option {
                padding: 1rem;
            }

            .option-title {
                font-size: 1rem;
            }

            .option-description {
                font-size: 0.85rem;
            }

            /* Progress Bar - Thinner on Mobile */
            .progress-bar {
                height: 4px;
                margin-bottom: 1rem;
            }

            /* Navigation Controls - Compact */
            .assessment-nav {
                margin-bottom: 1rem;
                padding: 0 0.5rem;
            }

            .back-button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .question-counter {
                font-size: 0.85rem;
            }

            /* Results - Mobile Optimized */
            .assessment-results {
                padding: 1rem;
            }

            .result-card {
                padding: 1.5rem 1rem;
            }

            .result-title {
                font-size: 1.25rem;
            }

            .result-description {
                font-size: 0.95rem;
            }

            /* Navigation */
            .nav-links {
                display: none;
            }

            /* Show mobile CTA button */
            .mobile-nav-cta {
                display: block !important;
            }

            /* Smaller logo on mobile */
            .logo-img {
                height: 30px !important;
            }

            /* Adjust header for mobile */
            .header {
                padding: 0.75rem 1rem;
            }

            /* Modals */
            .modal-content {
                width: 95%;
                margin: 1rem;
            }

            .modal-title {
                padding: 1.5rem 1.5rem 1rem;
                font-size: 1.5rem;
            }

            .iframe-container {
                padding: 0 1rem 1rem;
            }

            /* Footer */
            .footer-cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .footer-cta-option {
                width: 100%;
                max-width: 280px;
            }
        }
    </style>
</head>
<body>
    <!-- Glassmorphism Header (Only on Scroll) -->
    <header class="header" id="header">
        <div class="header-container">
            <a href="#" class="logo-link">
                <img src="public/images/Cosmex-VeinClinic-Logo.png" alt="Cosmex Clinic" class="logo-img" loading="eager">
            </a>
            <nav class="nav-links">
                <a href="#treatments" class="nav-link">Treatments</a>
                <a href="#experts" class="nav-link">Our Experts</a>
                <a href="#assessment" class="nav-cta">Start Assessment</a>
            </nav>
            <!-- Mobile CTA Button -->
            <a href="#assessment" class="mobile-nav-cta">Get Started</a>
        </div>
    </header>

    <!-- Page Dimmer Overlay -->
    <div class="page-dimmer" id="pageDimmer"></div>

    <!-- Hero Section with Assessment -->
    <section class="hero">
        <div class="hero-container">
            <!-- Hero Content -->
            <div class="hero-content">
                <div class="hero-badge">Led by Consultant Vascular Surgeon Mr Faisal Kahloon</div>
                <h1>Stop Living With Painful,&nbsp;Unsightly&nbsp;Veins</h1>
                <p class="hero-subtitle">
                    Skip the 2-year NHS wait. Get expert treatment from just £50 with same-week consultations available.
                </p>
            </div>

            <!-- Assessment Tool -->
            <div class="assessment-container" id="assessment" style="margin-top: 2.5rem; margin-bottom: 2.5rem;">
                <div class="assessment-header">
                    <h2 class="assessment-title">Smart Routing to the Right Specialist</h2>
                    <p class="assessment-subtitle">Prevents wrong bookings • Saves time • Sets correct expectations</p>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div class="assessment-nav">
                    <button class="back-button" id="backButton" onclick="goToPreviousQuestion()">
                        <span class="back-arrow">←</span>
                        <span>Back</span>
                    </button>
                    <span class="question-counter" id="questionCounter" style="display: none;">Question 1 of 7</span>
                </div>

                <div class="assessment-tool" id="assessmentTool">
                    <!-- Welcome Card -->
                    <div class="assessment-welcome active" id="assessmentWelcome" style="display: flex; justify-content: center; align-items: center; padding: 2rem 0;">
                        <div style="text-align: center; padding: 2rem 2.5rem; background: rgba(255, 255, 255, 0.75); border-radius: 16px; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); box-shadow: 0 8px 32px rgba(3, 81, 114, 0.08); border: 1px solid rgba(255, 255, 255, 0.18); max-width: 360px;">
                            <h3 style="color: var(--cambridge-blue); font-size: 1.5rem; margin-bottom: 0.75rem; font-family: 'Playfair Display', serif; font-weight: 700;">Let's Route You Correctly</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1.25rem; font-size: 0.95rem; line-height: 1.4;">Ensures you see the RIGHT specialist first time</p>
                            <button onclick="startActualAssessment()" style="background: linear-gradient(135deg, var(--orange-cta), #e89040); color: white; padding: 0.875rem 2.5rem; border: none; border-radius: 50px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 15px rgba(243, 160, 80, 0.3);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(243, 160, 80, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(243, 160, 80, 0.3)'">Get Started</button>
                        </div>
                    </div>
                    
                    <!-- Question 1 -->
                    <div class="question" data-question="1">
                        <h3 class="question-title">Which area concerns you most?</h3>
                        <div class="options">
                            <div class="option" data-value="face">
                                <div class="option-title">Face</div>
                                <div class="option-description">Thread veins, spider veins, rosacea on facial areas</div>
                            </div>
                            <div class="option" data-value="legs">
                                <div class="option-title">Legs</div>
                                <div class="option-description">Varicose veins, spider veins, or leg discomfort</div>
                            </div>
                            <div class="option" data-value="both">
                                <div class="option-title">Both Face & Legs</div>
                                <div class="option-description">Multiple areas of concern</div>
                            </div>
                        </div>
                    </div>

                    <!-- Face-Specific Questions (only shown if Face selected) -->
                    <!-- Face Question 2: Areas affected -->
                    <div class="question face-question" data-question="face-2">
                        <h3 class="question-title">Which facial areas are affected? (Select all that apply)</h3>
                        <div class="options checkbox-options">
                            <div class="option checkbox-option" data-value="cheeks">
                                <input type="checkbox" id="face-cheeks" class="face-area-checkbox" value="cheeks">
                                <label for="face-cheeks">
                                    <div class="option-title">Cheeks</div>
                                    <div class="option-description">Red veins or general redness on cheeks</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="nose">
                                <input type="checkbox" id="face-nose" class="face-area-checkbox" value="nose">
                                <label for="face-nose">
                                    <div class="option-title">Nose</div>
                                    <div class="option-description">Visible veins on or around the nose</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="chin">
                                <input type="checkbox" id="face-chin" class="face-area-checkbox" value="chin">
                                <label for="face-chin">
                                    <div class="option-title">Chin</div>
                                    <div class="option-description">Thread veins on chin area</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="around-eyes">
                                <input type="checkbox" id="face-eyes" class="face-area-checkbox" value="around-eyes">
                                <label for="face-eyes">
                                    <div class="option-title">Around Eyes</div>
                                    <div class="option-description">Delicate veins near eye area</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="forehead">
                                <input type="checkbox" id="face-forehead" class="face-area-checkbox" value="forehead">
                                <label for="face-forehead">
                                    <div class="option-title">Forehead</div>
                                    <div class="option-description">Visible veins on forehead</div>
                                </label>
                            </div>
                        </div>
                        <button class="continue-button" onclick="handleFaceAreasContinue()" style="display: none; margin-top: 1rem;">Continue</button>
                    </div>

                    <!-- Face Question 3: Type of veins -->
                    <div class="question face-question" data-question="face-3">
                        <h3 class="question-title">What type of facial veins do you see?</h3>
                        <div class="options">
                            <div class="option face-option" data-value="red-thread">
                                <div class="option-title">Small Red Thread Veins</div>
                                <div class="option-description">Fine, red capillaries visible on skin</div>
                            </div>
                            <div class="option face-option" data-value="blue-purple">
                                <div class="option-title">Blue/Purple Veins</div>
                                <div class="option-description">Slightly larger, darker colored veins</div>
                            </div>
                            <div class="option face-option" data-value="rosacea">
                                <div class="option-title">Rosacea/General Redness</div>
                                <div class="option-description">Overall redness and flushing</div>
                            </div>
                            <div class="option face-option" data-value="broken-capillaries">
                                <div class="option-title">Broken Capillaries</div>
                                <div class="option-description">Small burst blood vessels</div>
                            </div>
                        </div>
                    </div>

                    <!-- Face Question 4: Duration -->
                    <div class="question face-question" data-question="face-4">
                        <h3 class="question-title">How long have you had these facial veins?</h3>
                        <div class="options">
                            <div class="option face-option" data-value="recent-face">
                                <div class="option-title">Less than 6 months</div>
                                <div class="option-description">Recently appeared</div>
                            </div>
                            <div class="option face-option" data-value="months-face">
                                <div class="option-title">6 months - 2 years</div>
                                <div class="option-description">Developed over past year or two</div>
                            </div>
                            <div class="option face-option" data-value="years-face">
                                <div class="option-title">2-5 years</div>
                                <div class="option-description">Present for several years</div>
                            </div>
                            <div class="option face-option" data-value="longtime-face">
                                <div class="option-title">More than 5 years</div>
                                <div class="option-description">Long-standing issue</div>
                            </div>
                        </div>
                    </div>

                    <!-- Face Question 5: Triggers -->
                    <div class="question face-question" data-question="face-5">
                        <h3 class="question-title">Have you noticed any triggers?</h3>
                        <div class="options">
                            <div class="option face-option" data-value="sun">
                                <div class="option-title">Sun Exposure</div>
                                <div class="option-description">Worsens with sun or UV exposure</div>
                            </div>
                            <div class="option face-option" data-value="temperature">
                                <div class="option-title">Temperature Changes</div>
                                <div class="option-description">Hot/cold weather affects them</div>
                            </div>
                            <div class="option face-option" data-value="lifestyle">
                                <div class="option-title">Alcohol/Spicy Foods</div>
                                <div class="option-description">Certain foods or drinks trigger flushing</div>
                            </div>
                            <div class="option face-option" data-value="hormones">
                                <div class="option-title">Pregnancy/Hormones</div>
                                <div class="option-description">Related to hormonal changes</div>
                            </div>
                            <div class="option face-option" data-value="none-face">
                                <div class="option-title">No Clear Triggers</div>
                                <div class="option-description">Haven't noticed specific triggers</div>
                            </div>
                        </div>
                    </div>

                    <!-- Question 2 -->
                    <div class="question" data-question="2">
                        <h3 class="question-title">What type of veins are you seeing?</h3>
                        <div class="options">
                            <div class="option" data-value="spider">
                                <div class="option-title">Spider/Thread Veins</div>
                                <div class="option-description">Small, thin red or purple veins near the surface</div>
                            </div>
                            <div class="option" data-value="varicose">
                                <div class="option-title">Varicose Veins</div>
                                <div class="option-description">Larger, bulging, twisted veins</div>
                            </div>
                            <div class="option" data-value="both-types">
                                <div class="option-title">Both Types</div>
                                <div class="option-description">Combination of spider and varicose veins</div>
                            </div>
                            <div class="option" data-value="unsure">
                                <div class="option-title">Not Sure</div>
                                <div class="option-description">I need help identifying my vein type</div>
                            </div>
                        </div>
                    </div>

                    <!-- Question 3 -->
                    <div class="question" data-question="3">
                        <h3 class="question-title">Do you experience any symptoms?</h3>
                        <div class="options">
                            <div class="option" data-value="no-symptoms">
                                <div class="option-title">No Symptoms</div>
                                <div class="option-description">Just cosmetic concerns, no physical discomfort</div>
                            </div>
                            <div class="option" data-value="mild">
                                <div class="option-title">Mild Symptoms</div>
                                <div class="option-description">Occasional aching, tiredness, or heaviness</div>
                            </div>
                            <div class="option" data-value="moderate">
                                <div class="option-title">Moderate Symptoms</div>
                                <div class="option-description">Regular pain, swelling, cramping, or itching</div>
                            </div>
                            <div class="option" data-value="severe">
                                <div class="option-title">Severe Symptoms</div>
                                <div class="option-description">Skin changes, ulcers, bleeding, or significant pain</div>
                            </div>
                        </div>
                    </div>

                    <!-- Question 4: Risk Factors -->
                    <div class="question" data-question="4">
                        <h3 class="question-title">Do any of these apply to you? (Select all that apply)</h3>
                        <div class="options checkbox-options">
                            <div class="option checkbox-option" data-value="family-history">
                                <input type="checkbox" id="risk-family" class="risk-checkbox" value="family-history">
                                <label for="risk-family">
                                    <div class="option-title">Family History</div>
                                    <div class="option-description">Parents or siblings have/had varicose veins</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="pregnancy">
                                <input type="checkbox" id="risk-pregnancy" class="risk-checkbox" value="pregnancy">
                                <label for="risk-pregnancy">
                                    <div class="option-title">Pregnancy Related</div>
                                    <div class="option-description">Currently pregnant or veins appeared during/after pregnancy</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="occupation">
                                <input type="checkbox" id="risk-occupation" class="risk-checkbox" value="occupation">
                                <label for="risk-occupation">
                                    <div class="option-title">Standing/Sitting Job</div>
                                    <div class="option-description">Long periods of standing or sitting at work</div>
                                </label>
                            </div>
                            <div class="option checkbox-option" data-value="none">
                                <input type="checkbox" id="risk-none" class="risk-checkbox" value="none">
                                <label for="risk-none">
                                    <div class="option-title">None of These</div>
                                    <div class="option-description">No known risk factors</div>
                                </label>
                            </div>
                        </div>
                        <button class="continue-button" onclick="handleRiskFactorsContinue()" style="display: none; margin-top: 1rem;">Continue</button>
                    </div>
                    
                    <!-- Question 5: Duration -->
                    <div class="question" data-question="5">
                        <h3 class="question-title">How long have you had these veins?</h3>
                        <div class="options">
                            <div class="option" data-value="recent">
                                <div class="option-title">Less than 6 months</div>
                                <div class="option-description">Recently appeared</div>
                            </div>
                            <div class="option" data-value="year">
                                <div class="option-title">6 months - 2 years</div>
                                <div class="option-description">Developed over the past year or two</div>
                            </div>
                            <div class="option" data-value="years">
                                <div class="option-title">2-5 years</div>
                                <div class="option-description">Had them for several years</div>
                            </div>
                            <div class="option" data-value="longtime">
                                <div class="option-title">More than 5 years</div>
                                <div class="option-description">Long-standing condition</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 6: Previous Treatment -->
                    <div class="question" data-question="6">
                        <h3 class="question-title">Have you had vein treatment before?</h3>
                        <div class="options">
                            <div class="option" data-value="no-treatment">
                                <div class="option-title">Never</div>
                                <div class="option-description">This would be my first treatment</div>
                            </div>
                            <div class="option" data-value="sclerotherapy">
                                <div class="option-title">Sclerotherapy/Injections</div>
                                <div class="option-description">Had injection treatment before</div>
                            </div>
                            <div class="option" data-value="surgery">
                                <div class="option-title">Surgical Treatment</div>
                                <div class="option-description">Had vein stripping or other surgery</div>
                            </div>
                            <div class="option" data-value="other-treatment">
                                <div class="option-title">Other Treatment</div>
                                <div class="option-description">Laser, RFA, or other procedures</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 7: Timeline -->
                    <div class="question" data-question="7">
                        <h3 class="question-title">How soon would you like treatment?</h3>
                        <div class="options">
                            <div class="option" data-value="immediate">
                                <div class="option-title">As Soon As Possible</div>
                                <div class="option-description">Ready to book this week</div>
                            </div>
                            <div class="option" data-value="month">
                                <div class="option-title">Within a Month</div>
                                <div class="option-description">Planning for the near future</div>
                            </div>
                            <div class="option" data-value="exploring">
                                <div class="option-title">Just Exploring Options</div>
                                <div class="option-description">Gathering information first</div>
                            </div>
                        </div>
                    </div>

                    <!-- Results -->
                    <div class="assessment-results" id="assessmentResults">
                        <div class="result-card">
                            <h3 class="result-title">Your Personalised Treatment Plan</h3>
                            <p class="result-description" id="resultDescription">
                                Based on your assessment, we recommend scheduling a consultation to discuss your treatment options.
                            </p>
                            <div id="resultRecommendation"></div>
                            <button class="result-cta" id="resultCTA">Book Your Consultation</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trust Indicators -->
            <div class="trust-bar" style="margin-top: 1.5rem;">
                <div class="trust-item">
                    <svg class="trust-icon" viewBox="0 0 24 24">
                        <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                    </svg>
                    <span>Est. 2002</span>
                </div>
                <div class="trust-item">
                    <svg class="trust-icon" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <span>5-Star Rated</span>
                </div>
                <div class="trust-item">
                    <svg class="trust-icon" viewBox="0 0 24 24">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                    </svg>
                    <span>CQC Registered</span>
                </div>
                <div class="trust-item">
                    <svg class="trust-icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <span>Multi-Award Winning</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-choose-us">
        <div class="why-container">
            <div class="why-header">
                <h2 class="why-title">Why Choose Cosmex Vein Clinic</h2>
                <p class="section-subtitle">A division of multi-award winning Cosmex Clinic</p>
            </div>

            <!-- Cosmex Guarantee Section -->
            <div style="background: linear-gradient(135deg, #f0fdf4, #ecfdf5); border-radius: 16px; padding: 2.5rem; margin-bottom: 3rem; border: 2px solid var(--cambridge-green); position: relative;">
                <div style="position: absolute; top: -15px; left: 30px; background: white; padding: 0.5rem 1.5rem; border-radius: 50px; border: 2px solid var(--cambridge-green);">
                    <span style="color: var(--cambridge-green); font-weight: 700; font-size: 0.9rem;">THE COSMEX GUARANTEE</span>
                </div>
                <h3 style="color: var(--cambridge-blue); font-size: 1.75rem; margin-bottom: 1rem; margin-top: 1rem;">Your Treatment Success, Guaranteed</h3>
                <p style="color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 1.5rem;">When you choose our full assessment pathway (£250 duplex scan), you receive our comprehensive 12-month treatment guarantee.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
                        <div style="color: var(--cambridge-green); font-size: 1.5rem; margin-bottom: 0.5rem;">✓</div>
                        <h4 style="color: var(--cambridge-blue); margin-bottom: 0.5rem;">Free Re-treatment</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">If treated veins reappear within 12 months, we'll retreat them at no additional cost</p>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
                        <div style="color: var(--cambridge-green); font-size: 1.5rem; margin-bottom: 0.5rem;">✓</div>
                        <h4 style="color: var(--cambridge-blue); margin-bottom: 0.5rem;">Follow-up Included</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">One follow-up scan at 1 month post-treatment included</p>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
                        <div style="color: var(--cambridge-green); font-size: 1.5rem; margin-bottom: 0.5rem;">✓</div>
                        <h4 style="color: var(--cambridge-blue); margin-bottom: 0.5rem;">Expert Monitoring</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Regular check-ups to ensure optimal healing and long-term success</p>
                    </div>
                </div>
                
                <div style="background: rgba(243, 160, 80, 0.1); border-left: 4px solid var(--orange-cta); padding: 1rem 1.5rem; margin-top: 2rem; border-radius: 8px;">
                    <p style="color: var(--text-primary); font-size: 0.95rem; margin: 0;">
                        <strong>Note:</strong> The guarantee applies when we perform a full duplex ultrasound scan first to identify and treat any underlying venous insufficiency. This ensures we treat the root cause, not just visible symptoms.
                    </p>
                </div>
            </div>

            <div class="nhs-challenge-wrapper">
                <div class="nhs-challenge">
                    <h3 class="challenge-title">The NHS Challenge</h3>
                    <p class="challenge-subtitle">Why Timely Vein Treatment Matters</p>
                    <p class="challenge-text">
                        It is widely accepted the NHS is under immense pressure due to:
                    </p>
                    <ul class="challenge-list">
                        <li class="challenge-item">
                            <span class="challenge-bullet">•</span>
                            <span>A population which increased from 59,000,000 to 70,000,000 since 2000</span>
                        </li>
                        <li class="challenge-item">
                            <span class="challenge-bullet">•</span>
                            <span>Early retirement of many senior medical staff due to COVID and generous pension schemes in lieu of pay rises</span>
                        </li>
                        <li class="challenge-item">
                            <span class="challenge-bullet">•</span>
                            <span>A sluggish economy limiting available healthcare funds</span>
                        </li>
                    </ul>
                    <p class="challenge-text">
                        Treatment of vascular problems has been particularly affected, and patients now routinely experience delays until their condition becomes acute.
                    </p>
                    <div class="warning-box">
                        <p class="warning-text">
                            <strong>Don't wait for your condition to worsen.</strong> At Cosmex Vein Clinic, we offer immediate consultations and treatments, 
                            preventing complications and improving your quality of life without the long NHS waiting times.
                        </p>
                    </div>
                </div>
                <img src="public/images/Cosmex-Veins-Hero-1.jpg" alt="Professional vein treatment at Cosmex Clinic" class="challenge-image" loading="lazy">
            </div>
        </div>
    </section>

    <!-- Treatments Section -->
    <section class="treatments" id="treatments">
        <div class="treatments-container">
            <div class="section-header">
                <h2 class="section-title">Our Treatments</h2>
                <p class="section-subtitle">Advanced, minimally invasive vein treatments with proven results</p>
            </div>

            <div class="treatment-grid">
                <!-- Thread Veins Treatment -->
                <div class="treatment-card">
                    <img src="public/images/threadveins.jpg" alt="Thread Veins Treatment" class="treatment-image" loading="lazy">
                    <div class="treatment-content">
                        <h3 class="treatment-title">Thread & Spider Veins</h3>
                        <p class="treatment-description">
                            Precision laser treatment for facial and leg spider veins using our advanced Spectra Vein technology
                        </p>
                        <ul class="treatment-features">
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>No downtime required</span>
                            </li>
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Visible results in 2-4 weeks</span>
                            </li>
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Safe for all skin types</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Varicose Veins Treatment -->
                <div class="treatment-card">
                    <img src="public/images/cosmex-varicose-hero-3.jpg" alt="Varicose Veins Treatment" class="treatment-image" loading="lazy">
                    <div class="treatment-content">
                        <h3 class="treatment-title">Varicose Veins</h3>
                        <p class="treatment-description">
                            Radiofrequency ablation and foam sclerotherapy for effective varicose vein removal
                        </p>
                        <ul class="treatment-features">
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Walk-in, walk-out procedure</span>
                            </li>
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>98% success rate</span>
                            </li>
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Insurance accepted</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Duplex Scanning -->
                <div class="treatment-card">
                    <img src="public/images/duplex-ultrasound.jpg" alt="Duplex Ultrasound" class="treatment-image" loading="lazy">
                    <div class="treatment-content">
                        <h3 class="treatment-title">Diagnostic Scanning</h3>
                        <p class="treatment-description">
                            Advanced duplex ultrasound scanning for accurate diagnosis and treatment planning
                        </p>
                        <ul class="treatment-features">
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Comprehensive vein mapping</span>
                            </li>
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Non-invasive assessment</span>
                            </li>
                            <li class="treatment-feature">
                                <span class="check-icon">✓</span>
                                <span>Same-day results</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Video Section -->
    <section class="video-section">
        <div class="video-container">
            <div class="section-header">
                <h2 class="section-title">See Our Treatments in Action</h2>
                <p class="section-subtitle">Watch how our advanced procedures work</p>
            </div>

            <div class="video-tabs">
                <button class="video-tab active" data-video="spectra">Thread Veins (Laser)</button>
                <button class="video-tab" data-video="rfa">Varicose Veins (RFA)</button>
            </div>

            <div class="video-content active" id="spectra-video">
                <div class="video-wrapper">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
                        <div id="spectraThumb" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: url('public/images/threadveins.jpg') center/cover no-repeat; z-index: 1; cursor: pointer;" onclick="playSpectraVideo()">
                            <!-- Animated Play Button -->
                            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; background: rgba(111, 199, 180, 0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; animation: pulse 2s infinite;">
                                <svg style="width: 40px; height: 40px; margin-left: 5px; fill: white;" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                        <iframe id="spectraIframe" src="" 
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                        </iframe>
                    </div>
                </div>
            </div>

            <div class="video-content" id="rfa-video">
                <div class="video-wrapper">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
                        <div id="rfaThumb" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: url('public/images/cosmex-varicose-hero-3.jpg') center/cover no-repeat; z-index: 1; cursor: pointer;" onclick="playRfaVideo()">
                            <!-- Animated Play Button -->
                            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; background: rgba(111, 199, 180, 0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; animation: pulse 2s infinite;">
                                <svg style="width: 40px; height: 40px; margin-left: 5px; fill: white;" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                        <video id="rfaVideo" class="video-player" controls poster="public/images/cosmex-varicose-hero-3.jpg" preload="none" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
                            <source src="https://wordpress-1509115-5792337.cloudwaysapps.com/wp-content/uploads/2025/09/vnus.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Experts Section -->
    <section class="experts" id="experts">
        <div class="treatments-container">
            <div class="section-header">
                <h2 class="section-title">Meet Your Specialists</h2>
                <p class="section-subtitle">Expert care from Cambridge's leading vein treatment team</p>
            </div>

            <div class="experts-grid">
                <div class="expert-card">
                    <img src="public/images/Vacular Surgeon Faisal.jpg" alt="Mr. Faisal - Vascular Surgeon" class="expert-image" loading="lazy">
                    <h3 class="expert-name">Mr. Faisal</h3>
                    <p class="expert-title">Lead Vascular Surgeon</p>
                    <p class="expert-description">
                        Specialist in minimally invasive vein treatments including RFA, EVLA, and foam sclerotherapy with extensive experience in complex varicose vein cases
                    </p>
                </div>

                <div class="expert-card">
                    <img src="public/images/Vascular Scientist Anam Akhtar.jpeg" alt="Anam Akhtar - Vascular Scientist" class="expert-image" loading="lazy">
                    <h3 class="expert-name">Anam Akhtar</h3>
                    <p class="expert-title">Lead Vascular Scientist</p>
                    <p class="expert-description">
                        Expert in duplex ultrasound diagnostics and vein mapping, ensuring precise treatment planning for optimal patient outcomes
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <!-- Footer CTA Section -->
            <div class="footer-cta-section">
                <h3 class="footer-cta-title">Ready to Start Your Treatment?</h3>
                <p class="footer-cta-subtitle">Choose the consultation that's right for you</p>
                
                <div class="footer-cta-buttons">
                    <div class="footer-cta-option">
                        <span class="footer-cta-badge">RECOMMENDED - ACCURATE DIAGNOSIS</span>
                        <div class="footer-cta-price">£250</div>
                        <div class="footer-cta-desc">
                            Duplex Ultrasound Scan<br>
                            Full vein mapping & diagnosis<br>
                            <strong>Essential for varicose veins - The only way to diagnose properly</strong>
                        </div>
                        <button class="footer-cta-btn" onclick="openDuplexBookingModal()">
                            Book Duplex Scan
                        </button>
                    </div>
                    
                    <div class="footer-cta-option">
                        <span class="footer-cta-badge">COSMETIC ONLY</span>
                        <div class="footer-cta-price">£50</div>
                        <div class="footer-cta-desc">
                            Consultation & Patch Test<br>
                            Thread veins on face ONLY<br>
                            <strong>No guarantee without scan</strong>
                        </div>
                        <button class="footer-cta-btn" onclick="openFacialBookingModal()">
                            Book Consultation
                        </button>
                    </div>
                </div>
            </div>

            <img src="public/images/Cosmex-VeinClinic-Logo.png" alt="Cosmex Clinic" class="footer-logo" loading="lazy">
            <div class="footer-links">
                <a href="privacy-policy.html" class="footer-link">Privacy Policy</a>
                <a href="terms-of-service.html" class="footer-link">Terms of Service</a>
                <a href="#assessment" class="footer-link">Contact Us</a>
                <a href="tel:01223752200" class="footer-link">01223 752200</a>
            </div>
            <p class="footer-copyright">
                © 2024 Cosmex Vein Clinic Cambridge. All rights reserved. CQC Registered.
            </p>
        </div>
    </footer>

    <!-- Facial/Thread Vein Consultation Modal (£50) -->
    <div class="booking-modal" id="facialBookingModal">
        <div class="modal-overlay" onclick="closeFacialBookingModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeFacialBookingModal()">×</button>
            <h2 class="modal-title">Book Vein Consultation & Patch Test</h2>
            <p class="modal-subtitle">£50</p>
            <div class="iframe-container">
                <iframe src="https://links.hifucambridge.com/widget/booking/LSUjMbBChuSodWiQ5k7R" 
                        style="width: 100%; height: 600px; border: none; overflow: hidden;" 
                        scrolling="no" 
                        id="hjVfiRZz7syhVUITBmN2_1757769604434"></iframe>
            </div>
        </div>
    </div>

    <!-- Duplex Scan Modal (£250) -->
    <div class="booking-modal" id="duplexBookingModal">
        <div class="modal-overlay" onclick="closeDuplexBookingModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeDuplexBookingModal()">×</button>
            <h2 class="modal-title">Book Duplex Ultrasound Scan</h2>
            <p class="modal-subtitle">£250</p>
            <div class="iframe-container">
                <iframe src="https://links.hifucambridge.com/widget/booking/DWeW3imSyGDQxZ7HWRgh" 
                        style="width: 100%; height: 600px; border: none; overflow: hidden;" 
                        scrolling="no" 
                        id="hjVfiRZz7syhVUITBmN2_1757769913612"></iframe>
            </div>
        </div>
    </div>

    <script src="https://links.hifucambridge.com/js/form_embed.js" type="text/javascript"></script>
    <script>
        // Only scroll to top on actual page refresh (not during normal scrolling)
        // Removed aggressive scroll-to-top behavior that was causing jumping

        // Facial Booking Modal Functions
        function openFacialBookingModal() {
            // Remove dimmer when showing booking modal
            document.getElementById('pageDimmer').classList.remove('active');
            document.getElementById('assessment').classList.remove('focused');
            document.getElementById('facialBookingModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeFacialBookingModal() {
            document.getElementById('facialBookingModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // Duplex Booking Modal Functions
        function openDuplexBookingModal() {
            // Remove dimmer when showing booking modal
            document.getElementById('pageDimmer').classList.remove('active');
            document.getElementById('assessment').classList.remove('focused');
            document.getElementById('duplexBookingModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeDuplexBookingModal() {
            document.getElementById('duplexBookingModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // Escape key to close modals
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeFacialBookingModal();
                closeDuplexBookingModal();
            }
        });

        // Glassmorphism Header on Scroll
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Smooth Scroll for Navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const target = document.querySelector(targetId);
                
                if (target) {
                    // Special handling for assessment - center it in viewport
                    if (targetId === '#assessment') {
                        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset;
                        const targetHeight = target.offsetHeight;
                        const windowHeight = window.innerHeight;
                        
                        // Calculate position to center the assessment
                        let scrollToPosition = targetPosition - (windowHeight / 2) + (targetHeight / 2);
                        
                        // Don't scroll past the top of the page
                        scrollToPosition = Math.max(0, scrollToPosition);
                        
                        // If assessment is taller than viewport, just scroll to top of assessment with some padding
                        if (targetHeight > windowHeight * 0.8) {
                            scrollToPosition = targetPosition - 100; // 100px padding from top
                        }
                        
                        // Ensure welcome card is visible if assessment hasn't started
                        const welcomeCard = document.getElementById('assessmentWelcome');
                        const activeQuestion = document.querySelector('.question.active');
                        if (!activeQuestion || activeQuestion.style.display === 'none') {
                            welcomeCard.style.display = 'block';
                            welcomeCard.classList.add('active');
                            // Hide any questions that might be showing
                            document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));
                        }
                        
                        // Activate dimmer and focus effect
                        const dimmer = document.getElementById('pageDimmer');
                        const assessmentContainer = document.getElementById('assessment');
                        
                        dimmer.classList.add('active');
                        assessmentContainer.classList.add('focused');
                        
                        window.scrollTo({
                            top: scrollToPosition,
                            behavior: 'smooth'
                        });
                    } else {
                        // Normal scroll for other elements
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });

        // Function to reset assessment to initial state
        function resetAssessmentToWelcome() {
            const welcomeCard = document.getElementById('assessmentWelcome');
            const activeQuestion = document.querySelector('.question.active');
            const activeResults = document.getElementById('assessmentResults');
            const assessmentContainer = document.querySelector('.assessment-container');

            // Hide any active questions
            document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));

            // Hide results if showing
            if (activeResults) {
                activeResults.style.display = 'none';
            }

            // Show welcome card
            welcomeCard.classList.add('active');
            welcomeCard.style.display = 'flex';

            // Remove assessment-active class to reset appearance
            assessmentContainer.classList.remove('assessment-active');

            // Reset progress and navigation
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('questionCounter').style.display = 'none';
            document.getElementById('backButton').classList.remove('visible');

            // Reset tracking variables
            currentQuestion = 1;
            answers = {};
            questionHistory = [];
        }

        // Dimmer click handler - remove focus when clicking outside
        document.getElementById('pageDimmer').addEventListener('click', function() {
            // Always allow closing the dimmer when clicking outside
            this.classList.remove('active');
            document.getElementById('assessment').classList.remove('focused');

            // Reset assessment to welcome state
            resetAssessmentToWelcome();
        });

        // ESC key handler to exit assessment gracefully
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const assessmentContainer = document.querySelector('.assessment-container');
                const dimmer = document.getElementById('pageDimmer');

                // Only reset if assessment is active
                if (assessmentContainer.classList.contains('assessment-active') || dimmer.classList.contains('active')) {
                    // Remove dimmer and focus
                    dimmer.classList.remove('active');
                    document.getElementById('assessment').classList.remove('focused');
                    // Reset to welcome
                    resetAssessmentToWelcome();
                }
            }
        });

        // Assessment Tool Logic
        const assessmentTool = document.getElementById('assessmentTool');
        const progressFill = document.getElementById('progressFill');
        const questions = document.querySelectorAll('.question:not(.face-question)');
        const results = document.getElementById('assessmentResults');
        const backButton = document.getElementById('backButton');
        const questionCounter = document.getElementById('questionCounter');
        
        let currentQuestion = 1;
        const totalQuestions = 7;
        let answers = {};
        let questionHistory = [];

        // Handle option clicks
        // Function to start the actual assessment from welcome card
        function startActualAssessment() {
            // Keep dimmer active during assessment
            const dimmer = document.getElementById('pageDimmer');
            const assessmentContainer = document.getElementById('assessment');
            
            // Ensure dimmer stays active
            if (!dimmer.classList.contains('active')) {
                dimmer.classList.add('active');
                assessmentContainer.classList.add('focused');
            }
            
            document.getElementById('assessmentWelcome').classList.remove('active');
            document.getElementById('assessmentWelcome').style.display = 'none';
            document.querySelector('.question[data-question="1"]').classList.add('active');
            document.getElementById('questionCounter').style.display = 'block';
            document.querySelector('.assessment-container').classList.add('assessment-active');
            updateNavigationUI();
        }
        
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                // Skip checkbox options and face options - they're handled differently
                if (this.classList.contains('checkbox-option') || this.classList.contains('face-option')) {
                    return;
                }

                // Keep dimmer active during assessment
                const question = this.closest('.question');
                const questionNum = parseInt(question.dataset.question);
                const value = this.dataset.value;

                // Store answer and history
                answers[`q${questionNum}`] = value;
                questionHistory.push(questionNum);

                // Check if face was selected - go to face-specific questions
                if (questionNum === 1 && value === 'face') {
                    // Show face-specific questions
                    question.classList.remove('active');
                    document.querySelector('.question[data-question="face-2"]').classList.add('active');
                    currentQuestion = 'face-2';
                    progressFill.style.width = '20%';  // 1 of 5 face questions = 20%
                    updateNavigationUI();
                    return;
                }

                // Update progress
                const progress = (questionNum / totalQuestions) * 100;
                progressFill.style.width = progress + '%';

                // Move to next question or show results
                if (questionNum < totalQuestions) {
                    question.classList.remove('active');
                    questions[questionNum].classList.add('active');  // questionNum is already the correct index (0-based after Q1)
                    currentQuestion = questionNum + 1;
                    updateNavigationUI();
                } else {
                    showResults();
                }
            });
        });

        // Handle checkbox changes for Question 4
        document.querySelectorAll('.risk-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const continueBtn = document.querySelector('.question[data-question="4"] .continue-button');
                const checkedBoxes = document.querySelectorAll('.risk-checkbox:checked');

                // Handle "None" checkbox - uncheck others if None is selected
                if (this.value === 'none' && this.checked) {
                    document.querySelectorAll('.risk-checkbox:not(#risk-none)').forEach(cb => {
                        cb.checked = false;
                    });
                } else if (this.value !== 'none' && this.checked) {
                    // Uncheck "None" if other options are selected
                    document.getElementById('risk-none').checked = false;
                }

                // Show/hide continue button based on selections
                const hasSelection = document.querySelectorAll('.risk-checkbox:checked').length > 0;
                continueBtn.style.display = hasSelection ? 'block' : 'none';
            });
        });

        // Handle risk factors continue button
        function handleRiskFactorsContinue() {
            const checkedBoxes = document.querySelectorAll('.risk-checkbox:checked');
            const selectedRisks = Array.from(checkedBoxes).map(cb => cb.value);

            // Store the multiple selections
            answers['q4'] = selectedRisks;
            questionHistory.push(4);

            // Update progress
            const progress = (4 / totalQuestions) * 100;
            progressFill.style.width = progress + '%';

            // Move to next question (Q5 is at index 4)
            document.querySelector('.question[data-question="4"]').classList.remove('active');
            questions[4].classList.add('active');
            currentQuestion = 5;
            updateNavigationUI();
        }

        // Handle face area checkboxes
        document.querySelectorAll('.face-area-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const continueBtn = document.querySelector('.question[data-question="face-2"] .continue-button');
                const hasSelection = document.querySelectorAll('.face-area-checkbox:checked').length > 0;
                continueBtn.style.display = hasSelection ? 'block' : 'none';
            });
        });

        // Handle face areas continue button
        function handleFaceAreasContinue() {
            const checkedBoxes = document.querySelectorAll('.face-area-checkbox:checked');
            const selectedAreas = Array.from(checkedBoxes).map(cb => cb.value);

            // Store the face areas
            answers['face-areas'] = selectedAreas;
            questionHistory.push('face-2');

            // Move to next face question
            document.querySelector('.question[data-question="face-2"]').classList.remove('active');
            document.querySelector('.question[data-question="face-3"]').classList.add('active');
            currentQuestion = 'face-3';
            progressFill.style.width = '40%';  // 2 of 5 face questions = 40%
            updateNavigationUI();
        }

        // Handle face-specific option clicks
        document.querySelectorAll('.face-option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.closest('.question');
                const questionId = question.dataset.question;
                const value = this.dataset.value;

                // Store answer
                answers[questionId] = value;
                questionHistory.push(questionId);

                // Determine next step
                if (questionId === 'face-3') {
                    // Move to face-4
                    question.classList.remove('active');
                    document.querySelector('.question[data-question="face-4"]').classList.add('active');
                    currentQuestion = 'face-4';
                    progressFill.style.width = '60%';  // 3 of 5 face questions = 60%
                } else if (questionId === 'face-4') {
                    // Move to face-5
                    question.classList.remove('active');
                    document.querySelector('.question[data-question="face-5"]').classList.add('active');
                    currentQuestion = 'face-5';
                    progressFill.style.width = '80%';  // 4 of 5 face questions = 80%
                } else if (questionId === 'face-5') {
                    // Show results
                    progressFill.style.width = '100%';
                    showResults();
                }

                updateNavigationUI();
            });
        });

        // Back button functionality
        function goToPreviousQuestion() {
            // Check if we're at question 1, go back to welcome
            if (currentQuestion === 1 && questionHistory.length === 0) {
                questions[0].classList.remove('active');
                document.getElementById('assessmentWelcome').classList.add('active');
                document.getElementById('assessmentWelcome').style.display = 'flex';
                document.getElementById('questionCounter').style.display = 'none';
                backButton.classList.remove('visible');
                // Remove assessment-active class to reset appearance
                document.querySelector('.assessment-container').classList.remove('assessment-active');
                // Reset progress bar
                document.getElementById('progressFill').style.width = '0%';
                return;
            }
            
            if (questionHistory.length > 0) {
                // Hide current question or results
                if (results.style.display === 'block') {
                    results.style.display = 'none';
                    currentQuestion = totalQuestions;
                } else if (typeof currentQuestion === 'string' && currentQuestion.startsWith('face-')) {
                    // Hide current face question
                    document.querySelector(`.question[data-question="${currentQuestion}"]`).classList.remove('active');
                } else {
                    questions[currentQuestion - 1].classList.remove('active');
                }
                
                // Get previous question
                const previousQuestion = questionHistory.pop();

                // Handle face questions
                if (typeof previousQuestion === 'string' && previousQuestion.startsWith('face-')) {
                    // Hide all face questions
                    document.querySelectorAll('.face-question').forEach(q => q.classList.remove('active'));

                    // Show previous face question
                    document.querySelector(`.question[data-question="${previousQuestion}"]`).classList.add('active');
                    currentQuestion = previousQuestion;

                    // Reset face area checkboxes if going back to face-2
                    if (previousQuestion === 'face-2') {
                        document.querySelectorAll('.face-area-checkbox').forEach(cb => cb.checked = false);
                        const continueBtn = document.querySelector('.question[data-question="face-2"] .continue-button');
                        if (continueBtn) continueBtn.style.display = 'none';
                    }
                } else {
                    // Show previous regular question
                    questions[previousQuestion - 1].classList.add('active');
                    currentQuestion = previousQuestion;

                    // If going back to Question 4, reset checkboxes and hide continue button
                    if (previousQuestion === 4) {
                        document.querySelectorAll('.risk-checkbox').forEach(cb => cb.checked = false);
                        const continueBtn = document.querySelector('.question[data-question="4"] .continue-button');
                        if (continueBtn) continueBtn.style.display = 'none';
                    }
                }
                
                // Update progress
                let progress;
                if (typeof currentQuestion === 'string' && currentQuestion.startsWith('face-')) {
                    // Calculate progress for face questions
                    const faceStep = parseInt(currentQuestion.split('-')[1]);
                    progress = ((faceStep - 1) / 5) * 100;
                } else {
                    progress = ((currentQuestion - 1) / totalQuestions) * 100;
                }
                progressFill.style.width = progress + '%';
                
                // Update navigation UI
                updateNavigationUI();
            }
        }

        // Update navigation UI
        function updateNavigationUI() {
            // Update back button visibility
            if (questionHistory.length > 0) {
                backButton.classList.add('visible');
            } else {
                backButton.classList.remove('visible');
            }

            // Update question counter
            if (typeof currentQuestion === 'string' && currentQuestion.startsWith('face-')) {
                const faceStep = parseInt(currentQuestion.split('-')[1]) - 1;  // face-2 = Step 1, face-3 = Step 2, etc.
                questionCounter.textContent = `Face Assessment - Step ${faceStep} of 5`;
                questionCounter.style.display = 'block';
            } else if (currentQuestion <= totalQuestions) {
                questionCounter.textContent = `Question ${currentQuestion} of 7`;
                questionCounter.style.display = 'block';
            } else {
                questionCounter.style.display = 'none';
            }
        }

        function showResults() {
            // Hide ALL questions (both regular and face questions)
            questions.forEach(q => q.classList.remove('active'));
            document.querySelectorAll('.face-question').forEach(q => q.classList.remove('active'));

            // Update navigation for results
            backButton.classList.add('visible');
            questionCounter.style.display = 'none';
            
            // Determine treatment recommendation
            let recommendation = '';
            let ctaText = 'Book Your Consultation';
            let modalFunction = null;
            
            console.log('Assessment answers:', answers); // Debug log
            console.log('Q1:', answers.q1, 'Q2:', answers.q2, 'Q3:', answers.q3, 'Q4:', answers.q4);
            
            // Enhanced recommendations based on comprehensive assessment
            const hasRiskFactors = answers.q4 && (Array.isArray(answers.q4) ? !answers.q4.includes('none') : answers.q4 !== 'none');
            const isLongStanding = answers.q5 === 'years' || answers.q5 === 'longtime';
            const hadPreviousTreatment = answers.q6 && answers.q6 !== 'no-treatment';
            const isUrgent = answers.q7 === 'immediate';
            
            if (answers.q1 === 'face') {
                recommendation = `
                    <div style="margin-bottom: 2rem;">
                        <h4 style="color: var(--cambridge-green); margin-bottom: 1rem;">Recommended: Facial Vein Treatment</h4>
                        <p style="color: var(--text-secondary); line-height: 1.7;">
                            We can treat facial veins with either 980nm laser or IPL technology. 
                            The treatment is gentle, effective, and requires no downtime.
                        </p>
                        <div style="background: var(--bg-light); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                            <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Consultation Fee</p>
                            <p style="color: var(--text-primary);">£50 consultation fee</p>
                        </div>
                    </div>
                `;
                ctaText = 'Book Consultation';
                modalFunction = openFacialBookingModal;
                console.log('Setting facial booking modal for face treatment');
            } else if (answers.q1 === 'legs') {
                // Handle all leg-related paths with enhanced risk assessment
                if (answers.q2 === 'varicose' || answers.q3 === 'moderate' || answers.q3 === 'severe' || 
                    (hasRiskFactors && isLongStanding) || hadPreviousTreatment) {
                    // Varicose veins or significant symptoms - needs ultrasound
                recommendation = `
                    <div style="margin-bottom: 2rem;">
                        <h4 style="color: var(--cambridge-green); margin-bottom: 1rem;">Ultrasound Scan Required</h4>
                        <p style="color: var(--text-secondary); line-height: 1.7;">
                            Based on your symptoms${hasRiskFactors ? ', risk factors' : ''}${hadPreviousTreatment ? ', and treatment history' : ''}, 
                            you will need an ultrasound scan and consultation for us to prescribe the most appropriate treatment plan.
                        </p>
                        ${answers.q4 === 'pregnancy' ? `
                        <div style="background: #fef3c7; border-left: 4px solid var(--orange-cta); padding: 1rem; margin: 1rem 0; border-radius: 8px;">
                            <p style="color: var(--text-primary); font-weight: 500;">Pregnancy Note:</p>
                            <p style="color: var(--text-secondary); margin-top: 0.5rem;">We offer specialized treatment plans for pregnancy-related veins. 
                            Treatment timing will be discussed based on your individual circumstances.</p>
                        </div>` : ''}
                        ${hadPreviousTreatment ? `
                        <div style="background: #e0f2fe; border-left: 4px solid var(--cambridge-blue); padding: 1rem; margin: 1rem 0; border-radius: 8px;">
                            <p style="color: var(--text-primary); font-weight: 500;">Previous Treatment:</p>
                            <p style="color: var(--text-secondary); margin-top: 0.5rem;">Since you've had treatment before, we'll review your history 
                            to ensure the best approach for any recurrent or new veins.</p>
                        </div>` : ''}
                        <div style="background: #fff3e0; border-left: 4px solid var(--orange-cta); padding: 1rem; margin: 1.5rem 0; border-radius: 8px;">
                            <p style="color: var(--text-primary); font-weight: 500; margin-bottom: 0.5rem;">Your symptoms may indicate:</p>
                            <ul style="color: var(--text-secondary); margin-left: 1.5rem; font-size: 0.9rem;">
                                <li>Underlying venous insufficiency</li>
                                <li>Need for comprehensive treatment</li>
                                <li>Risk of progression if untreated</li>
                            </ul>
                        </div>
                        <div style="background: var(--bg-light); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                            <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Required Assessment</p>
                            <p style="color: var(--text-primary);">£250 duplex ultrasound scan & consultation</p>
                            <p style="color: var(--cambridge-green); font-size: 0.9rem; margin-top: 0.5rem;">✓ Treatments following scan include 12-month guarantee</p>
                        </div>
                    </div>
                `;
                    ctaText = 'Book Ultrasound Scan';
                    modalFunction = openDuplexBookingModal;
                    console.log('Setting duplex booking modal for varicose/severe symptoms');
                } else if (answers.q2 === 'spider' && (answers.q3 === 'no-symptoms' || answers.q3 === 'mild')) {
                    // Spider veins with no/mild symptoms - offer choice
                recommendation = `
                    <div style="margin-bottom: 2rem;">
                        <h4 style="color: var(--cambridge-green); margin-bottom: 1rem;">Thread Veins Treatment Options</h4>
                        <p style="color: var(--text-secondary); line-height: 1.7;">
                            While you can treat just the visible thread veins, these often have underlying causes similar to varicose veins.
                        </p>
                        <div style="background: #fff3e0; border-left: 4px solid var(--orange-cta); padding: 1rem; margin: 1.5rem 0; border-radius: 8px;">
                            <p style="color: var(--text-primary); font-weight: 500;">Important to Know:</p>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">Thread veins may recur without treating underlying causes. A duplex scan can identify these issues.</p>
                        </div>
                        <div style="display: grid; gap: 1rem; margin-top: 1.5rem;">
                            <div style="background: var(--bg-light); border-radius: 12px; padding: 1.5rem; border: 2px solid var(--cambridge-green);">
                                <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Recommended: Full Assessment</p>
                                <p style="color: var(--text-primary);">£250 duplex scan & consultation</p>
                                <p style="color: var(--cambridge-green); font-size: 0.9rem; margin-top: 0.5rem;">✓ Any treatment after scan includes guarantee</p>
                            </div>
                            <div style="background: white; border-radius: 12px; padding: 1.5rem; border: 1px solid #e5e7eb;">
                                <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Basic Consultation</p>
                                <p style="color: var(--text-primary);">£50 consultation</p>
                                <p style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">✗ No guarantee included</p>
                            </div>
                        </div>
                    </div>
                `;
                    ctaText = 'Book Consultation';
                    modalFunction = openFacialBookingModal;
                } else {
                    // Default leg treatment
                    recommendation = `
                        <div style="margin-bottom: 2rem;">
                            <h4 style="color: var(--cambridge-green); margin-bottom: 1rem;">Recommended: Full Assessment</h4>
                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                Only a duplex ultrasound scan can accurately diagnose vein problems. Without it, treatment is guesswork.
                            </p>
                            <div style="background: var(--bg-light); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                                <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Recommended Package</p>
                                <p style="color: var(--text-primary);">£250 duplex ultrasound scan & consultation</p>
                                <p style="color: var(--cambridge-green); font-size: 0.9rem; margin-top: 0.5rem;">✓ Future treatments protected by 12-month guarantee</p>
                            </div>
                        </div>
                    `;
                    ctaText = 'Book Assessment';
                    modalFunction = openDuplexBookingModal;
                    console.log('Setting duplex booking modal for default leg treatment');
                }
            } else if (answers.q1 === 'both') {
                recommendation = `
                    <div style="margin-bottom: 2rem;">
                        <h4 style="color: var(--cambridge-green); margin-bottom: 1rem;">Comprehensive Treatment Plan Required</h4>
                        <p style="color: var(--text-secondary); line-height: 1.7;">
                            With concerns in multiple areas, we recommend starting with a full assessment to create 
                            a comprehensive treatment plan.
                        </p>
                        <div style="background: var(--bg-light); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                            <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Complete Assessment</p>
                            <p style="color: var(--text-primary);">£250 duplex scan for legs + £50 facial consultation</p>
                            <p style="color: var(--cambridge-green); font-size: 0.9rem; margin-top: 0.5rem;">✓ Comprehensive treatment planning</p>
                        </div>
                    </div>
                `;
                ctaText = 'Book Full Assessment';
                modalFunction = openDuplexBookingModal;
            } else {
                recommendation = `
                    <div style="margin-bottom: 2rem;">
                        <h4 style="color: var(--cambridge-green); margin-bottom: 1rem;">Personalised Treatment Plan</h4>
                        <p style="color: var(--text-secondary); line-height: 1.7;">
                            Our specialists will create a customised treatment plan based on your specific needs 
                            and concerns during your consultation.
                        </p>
                        <div style="background: var(--bg-light); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                            <p style="font-weight: 600; color: var(--cambridge-blue); margin-bottom: 0.5rem;">Initial Consultation</p>
                            <p style="color: var(--text-primary);">£50 consultation</p>
                        </div>
                    </div>
                `;
                ctaText = 'Book £50 Consultation';
                modalFunction = openFacialBookingModal;
            }
            
            // Update results
            document.getElementById('resultRecommendation').innerHTML = recommendation;
            const ctaButton = document.getElementById('resultCTA');
            ctaButton.textContent = ctaText;
            // Properly assign the onclick handler
            if (modalFunction) {
                ctaButton.onclick = function() {
                    modalFunction();
                };
            }
            
            // Show results with animation
            results.style.display = 'block';
            results.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Update progress to 100%
            progressFill.style.width = '100%';
            
            // Send to backend (if needed)
            sendAssessmentData(answers);
        }

        // Send assessment data to backend
        async function sendAssessmentData(data) {
            try {
                // Add timestamp and user agent
                data.timestamp = new Date().toISOString();
                data.userAgent = navigator.userAgent;
                
                // Send to webhook or backend
                console.log('Assessment completed:', data);
                
                // You can uncomment this when backend is ready:
                /*
                const response = await fetch('/api/assessment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                */
            } catch (error) {
                console.error('Error sending assessment data:', error);
            }
        }

        // Video Tab Switching with Pause Control
        // Function to play Spectra video when thumbnail is clicked
        function playSpectraVideo() {
            const thumb = document.getElementById('spectraThumb');
            const iframe = document.getElementById('spectraIframe');
            thumb.style.display = 'none';
            // Set YouTube source with mobile-friendly parameters
            // playsinline=1 for iOS, mute=1 for autoplay on mobile
            iframe.src = 'https://www.youtube.com/embed/motc4Vgz1jE?enablejsapi=1&rel=0&modestbranding=1&autoplay=1&playsinline=1&mute=1';
        }
        
        // Function to play RFA video when thumbnail is clicked
        function playRfaVideo() {
            const thumb = document.getElementById('rfaThumb');
            const video = document.getElementById('rfaVideo');
            thumb.style.display = 'none';
            video.play();
        }
        
        const videoTabs = document.querySelectorAll('.video-tab');
        const videoContents = document.querySelectorAll('.video-content');

        // YouTube Player API
        let spectraPlayer = null;
        const spectraIframe = document.querySelector('#spectra-video iframe');
        
        // Function to pause all videos
        function pauseAllVideos() {
            try {
                // Pause RFA video (HTML5 video)
                const rfaVideo = document.querySelector('#rfa-video video');
                if (rfaVideo && !rfaVideo.paused) {
                    rfaVideo.pause();
                }
                
                // Pause Spectra video (YouTube iframe)
                if (spectraIframe) {
                    // Use postMessage to control YouTube iframe
                    spectraIframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                }
            } catch (error) {
                console.log('Video pause handled gracefully');
            }
        }

        // Handle video errors
        document.querySelectorAll('video').forEach(video => {
            video.addEventListener('error', function(e) {
                const wrapper = this.closest('.video-wrapper');
                if (wrapper && !wrapper.querySelector('.video-error')) {
                    const errorMsg = document.createElement('div');
                    errorMsg.className = 'video-error';
                    errorMsg.innerHTML = `
                        <div style="padding: 2rem; text-align: center; background: var(--bg-light); border-radius: 12px; margin: 1rem;">
                            <p style="color: var(--cambridge-blue); margin-bottom: 1rem;">
                                <strong>Video temporarily unavailable</strong>
                            </p>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">
                                Please try again later or contact us for more information about this treatment.
                            </p>
                            <button onclick="retryVideo(this)" style="margin-top: 1rem; padding: 0.5rem 1.5rem; background: var(--cambridge-green); color: white; border: none; border-radius: 6px; cursor: pointer;">
                                Retry
                            </button>
                        </div>
                    `;
                    wrapper.appendChild(errorMsg);
                    this.style.display = 'none';
                }
            });
        });

        // Retry video function
        function retryVideo(button) {
            const wrapper = button.closest('.video-wrapper');
            const video = wrapper.querySelector('video');
            const errorMsg = wrapper.querySelector('.video-error');
            
            if (video && errorMsg) {
                errorMsg.remove();
                video.style.display = 'block';
                video.load();
                video.play().catch(() => {
                    // Silent catch - error handler will show message if needed
                });
            }
        }

        // Tab switching with video pause
        videoTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const videoType = this.dataset.video;
                
                // Pause all videos before switching
                pauseAllVideos();
                
                // Reset thumbnails when switching tabs
                const spectraThumb = document.getElementById('spectraThumb');
                const rfaThumb = document.getElementById('rfaThumb');
                if (spectraThumb) spectraThumb.style.display = 'flex';
                if (rfaThumb) rfaThumb.style.display = 'flex';
                
                // Reset video sources to stop playback
                const spectraIframe = document.getElementById('spectraIframe');
                if (spectraIframe) {
                    const currentSrc = spectraIframe.src;
                    spectraIframe.src = currentSrc.replace('&autoplay=1', '');
                }
                
                // Update active tab
                videoTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Update active video
                videoContents.forEach(content => content.classList.remove('active'));
                const activeContent = document.getElementById(`${videoType}-video`);
                if (activeContent) {
                    activeContent.classList.add('active');
                }
            });
        });

        // Update YouTube iframe src to enable API
        if (spectraIframe) {
            const currentSrc = spectraIframe.src;
            if (!currentSrc.includes('enablejsapi=1')) {
                spectraIframe.src = currentSrc + (currentSrc.includes('?') ? '&' : '?') + 'enablejsapi=1';
            }
        }
    </script>
</body>
</html>